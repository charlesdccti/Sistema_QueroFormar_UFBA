<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html" 
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:pe="http://primefaces.org/ui/extensions">

    
    <ui:define name="corpo"> 
    
		<h:form>
		    <br/><br/>
		    <h2>Árvore de Pré-requisitos</h2>
		     <br/><br/>
		     
			<f:metadata>
			   <f:viewAction action="#{treeManagedBean.consultar}" />
			</f:metadata>
		
			<p:tree value="#{treeManagedBean.root}" var="node" dynamic="true" orientation="horizontal" selectionMode="single"
				selection="#{treeManagedBean.singleSelectedTreeNode}">
				
				<p:treeNode expandedIcon="ui-icon ui-icon-folder-open"
					collapsedIcon="ui-icon ui-icon-folder-collapsed">
					<h:outputText value="#{node}" />
				</p:treeNode>
				
				<p:treeNode type="document" icon="ui-icon ui-icon-document">
					<h:outputText value="#{node}" />
				</p:treeNode>
				
				<p:treeNode type="image" icon="ui-icon ui-icon-image">
					<h:outputText value="#{node}" />
				</p:treeNode>
				
				<p:treeNode type="video" icon="ui-icon ui-icon-video">
					<h:outputText value="#{node}" />
				</p:treeNode>
				
				<p:ajax event="select" listener="#{treeManagedBean.onNodeSelect}"></p:ajax>
				<p:ajax event="unselect" listener="#{treeManagedBean.onNodeUnSelect}"></p:ajax>
				<p:ajax event="expand" listener="#{treeManagedBean.onNodeExpand}"></p:ajax>
				<p:ajax event="collapse" listener="#{treeManagedBean.onNodeCollapse}"></p:ajax>
			</p:tree>
		</h:form>
		
		
    </ui:define>

</ui:composition>

